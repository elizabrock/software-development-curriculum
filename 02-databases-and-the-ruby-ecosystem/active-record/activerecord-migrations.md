# Overview of Migrations

## Introduction to Migrations
Active Record Migrations are a feature of Rails that allow for schema changes and version control as your application develops and evolves.
A key benefit is that version control is maintained largely in part by the Rails itself.
This means that as you add or remove models, controllers, and methods, Rails will help maintain that your schema is usable and that is reflects the changes in the application.

## Creating Migrations
### Migration Generators

To Create a Blank Migration: rails g migration <name>

To Add Columns: rails g migration Add<Anything>To<TableName> [columnName:type]

To Remove Columns: rails g migration Remove<Anything>From<TableName> [columnName:type]

To Create a Model with Filled In Migration: rails g model model_name field_name:fieldtype field_name:fieldtype

#### Models
To generate a Model Migration: rails g model Product name:string description:text

#### Rake db:create
Alternatively, you can run "rake db:create" or rake db:create:all" to setup for later migrations.

#### Schema
The schema for a particular migration is held in db/schema.rb. It is generated by Rails and is for the users benefit rather than to be used in Active Record transactions.
The main purposes for this file are to document the current state of the database schema and to populate test databases.

## Running Migrations
Running "rake db:migrate" will run a database migration and update your current schema. This should be done after adding or changing previous migrations.

#### Rollbacks
Running "rake db:rollback" will undo a change and revert to the preveious state.

#### Up/Down Methods
The up method should describe the transformation you'd like to make to your schema, and the down method of your migration should revert the transformations done by the up method (rollback).
If you create a table in the up method, you should drop it in the down method. It is wise to reverse the transformations in precisely the reverse order they were made in the up method.

## Further Reading

* [Migrations Cheatsheet (And More!)](http://courseware.codeschool.com/rails_for_zombies_2_cheatsheets.pdf)

## Sources

* [Rails Guide: Active Record Migrations](http://guides.rubyonrails.org/migrations.html)
* [Rails Guide: Command Line](http://guides.rubyonrails.org/command_line.html#db)
* [Tutorials Point: Rails Migrations](http://www.tutorialspoint.com/ruby-on-rails/rails-migrations.htm)
* [What Does Schema.rb Do?](http://stackoverflow.com/questions/9884429/rails-what-does-schema-rb-do)
